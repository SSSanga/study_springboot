<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="CarCompany">
<!-- 검색 -->
<select id="selectSearch" parameterType="Map" resultType="Map">
        SELECT *
        FROM db_cars.factorys
        WHERE 1 = 1 
    <choose>
            <when test="search == 'YEAR'">
            <![CDATA[

            AND YEAR > #{words}

            ]]>
            </when>
            
            <otherwise>
            AND COMPANY LIKE CONCAT(#{words}, '%')
            </otherwise>
    </choose>
        <!-- 여기서 WHERE조건은 상수라서 무시하고 출력함.  -->
</select>
<!-- 전체 불러오기  -->
	<select id="selectAll" parameterType="Map" resultType="Map">
        SELECT *
        FROM db_cars.factorys
        WHERE 1 = 1 
        <!-- 여기서 WHERE조건은 상수라서 무시하고 출력함.  -->
    </select>

<!-- 상세 -->
	<select id="selectByUID" parameterType="Map" resultType="Map">
        SELECT *
        FROM db_cars.factorys
         WHERE COMPANY_ID = #{COMPANY_ID}
    </select>
    <insert id="insert" parameterType="Map">
<!-- 입력 -->
        INSERT INTO factorys (COMPANY_ID,COMPANY)
        VALUES (#{COMPANY_ID},#{COMPANY})
    </insert>
<!-- 수정 -->
    <update id="update" parameterType="Map">
        UPDATE db_cars.factorys
        SET COMPANY = '쉐보레'
        WHERE COMPANY_ID = #{COMPANY_ID}
    </update>
<!-- 삭제 -->
    <delete id="delete" parameterType="Map">
        DELETE FROM db_cars.factorys
        WHERE COMPANY_ID=#{COMPANY_ID}
    </delete>

</mapper>